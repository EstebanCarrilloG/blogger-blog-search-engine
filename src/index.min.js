import("./style.css"),$(document).ready(function(){let e={resultsPerPage:10,blogUrl:"https://www.edeptec.com",monthFormat:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec",]},t=`${e.blogUrl}/feeds/posts/default/?alt=json-in-script&max-results=500`,n=$(".search-results-container"),a=$("#postsPageSearch"),s=$("#postPageSearchBtn"),o=$(".search-logo"),i=$(".posts-search-info"),r='<div class="loading">Cargando...</div>';$.ajax({url:t,type:"get",dataType:"jsonp",success:function(t){function l(t){let s=RegExp(/^[A-Za-z0-9\s]+$/g),l=a.val().toLowerCase();(l=l.replace(/\s\s+/g,"\n")).trim();let p=` 
          <p class="pagination-container-info"></p>
          <div class="posts-results-container"></div>
          <div class="pagination-container"><ul id="pagination"></ul></div>`;l.match(s)?(n.html(r),setTimeout(()=>{var a,s;let u,d,g,m;o.hide(),n.html(p),a=t,s=l,u=$(".pagination-container-info"),d=$("#pagination"),g=[],(m=a.feed.entry.filter(e=>{let t=e.title.$t.toLowerCase(),n=e.content.$t.toLowerCase().replace("\n","");return -1!==(g=(g=e.category.map(e=>e.term.toString())).toString().toLowerCase()).indexOf(s)?g:-1!==t.indexOf(s)?t:-1!==n.indexOf(s)?n:void 0})).length?(i.html(`Se encontaron <b id = "nResultados">${m.length}</b> resultados para el termino de busqueda : <b>"${s}"</b>`),function t(n){let a=$(".pagination-container-info"),s=$("#pagination"),o=Math.ceil(n.length/e.resultsPerPage);s.html("");for(let i=1;i<=o;i++)s.append('<li ><a href = "#" class = "page-number">'+i+"</a></li>");function l(e){a.html(`<p>Pagina ${e} de ${o}</p>`)}document.querySelectorAll(".page-number").forEach((e,t)=>{let a=$(".posts-results-container");e.onclick=function(){l(t+1),a.html(r),setTimeout(()=>{a.html(""),c(n,t+1)},1e3)}}),l(1)}(m),c(m,1)):(i.html(`No Se encontaron resultados para el termino de busqueda : <b>"${s}"</b>`),u.html(""),d.html(""))},1e3)):(i.text("Error, No se admiten caracteres especiales como terminos de busqueda."),o.show(),n.html(""))}function c(t,n){let a=$(".posts-results-container"),s="",o="";t=t.slice((n-1)*e.resultsPerPage,n*e.resultsPerPage),$(".page-number").removeClass("page-li-focus");let i=$(".page-number")[n-1];$("#pagination li").find(i).addClass("page-li-focus"),t.map(t=>{let n=document.createElement("div");n.classList.add("post-searched__content");let i=$("<div>").html(t.content.$t);o=i.find("p#descripcionDelPost").text()?i.find("p#descripcionDelPost").text():"EDEPTEC: Proyectos electr\xf3nicos con micro-controladores, compuertas l\xf3gicas. Aplicaciones creadas en App Inventor, simulaciones en Cade Simu, creaciones DIY muchas cosas mas.";for(let r=0;r<t.link.length;r++)if("alternate"==t.link[r].rel){s=t.link[r].href;break}let l=t.published.$t,c=l.substring(0,4),p=l.substring(5,7),u=l.substring(8,10),d=e.monthFormat[parseInt(p,10)]+" "+u+", "+c,g=t.updated.$t,m=g.substring(0,4),h=g.substring(5,7),f=g.substring(8,10),b=e.monthFormat[parseInt(h,10)]+" "+f+", "+m,_=`
      <a target ="_blank" class = "post-content__url" href = "${s}"><p>${t.title.$t}</p></a>
        <p class="post-content__info">
                  <span class ="post-date" >${d}</span> - ${o}
                </p>
                <p class="post-content-tags">${t.category.map(e=>`<span class= "tag-text">${e.term}</span>`).join("")}</p>
                <p class="post-content__ad">
                    <span><b>Autor:</b> ${t.author[0].name.$t}</span> |
                    <span><b>Ultima actualizaci\xf3n:</b> ${b}</span>
              </p>`;return n.innerHTML=_,a.append(n),0})}a.keydown(function(e){13===e.keyCode&&l(t)}),s.click(function(){l(t)})},complete:function(){console.log("Done")}})});